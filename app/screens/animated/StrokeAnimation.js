/* eslint-disable max-len */
import React, { useEffect, useState } from "react";
import { Dimensions, StyleSheet, View } from "react-native";
import Animated, {
  Easing,
  useSharedValue,
  withTiming,
} from "react-native-reanimated";
import Svg from "react-native-svg";
import AnimatedStroke from "./AnimatedStroke";

const MARGIN = 10;
const vWidth = 328 + MARGIN;
const vHeight = 422 + MARGIN;
const width = Dimensions.get("window").width - 64;
const height = (width * vHeight) / vWidth;
const paths = [
  "M139.72 64.3C138.37 66.35 137.2 68.67 136.23 71.27L142.15 71.51C141.6 68.98 140.79 66.57 139.72 64.3ZM180.98 75.9C181.6 73.76 181.49 71.95 180.65 70.46C179.82 69.02 178.46 68.1 176.56 67.69L175.58 67.48C175.39 67.44 174.97 67.4 174.32 67.36L170.93 79.09C170.69 79.93 171.15 80.47 172.32 80.73L173.13 80.91C174.87 81.29 176.48 80.99 177.98 80.01C179.46 79.05 180.46 77.69 180.98 75.9ZM187.09 76.6C186.12 79.97 184.22 82.52 181.41 84.26C178.63 85.98 175.62 86.49 172.36 85.78L170.41 85.35C165.69 84.32 163.83 82.06 164.84 78.57L169.56 62.23C170.3 62.16 171.37 62.15 172.76 62.22C174.17 62.32 175.31 62.46 176.18 62.65L178.62 63.18C181.74 63.86 184.13 65.32 185.79 67.57C187.67 70.1 188.1 73.11 187.09 76.6ZM216.05 88.98C214.15 90.55 212.6 91.79 211.41 92.7C209.49 94.12 207.62 95.37 205.8 96.43L205.12 96.15C203.55 95.5 202.65 94.38 202.4 92.8C201.69 85.19 202.57 77.77 205.05 70.55L208.2 71.85C209.14 72.24 209.76 72.8 210.08 73.55C210.39 74.24 210.41 74.99 210.14 75.8L210.16 75.77C208.89 80.01 208.21 84.28 208.13 88.6C212.63 85.02 216.51 81.04 219.78 76.64L222.66 77.83C223.37 78.12 223.85 78.56 224.1 79.14C224.35 79.72 224.29 80.36 223.93 81.05C223.63 81.63 222.64 82.76 220.98 84.46C219.25 86.21 217.61 87.71 216.05 88.98ZM242.01 113.11C241.27 114.02 240.43 114.46 239.48 114.44C238.37 114.41 236.91 113.81 235.11 112.63L233.05 111.29C227.92 107.94 227.35 103.81 231.35 98.88L234.01 95.6C235.55 93.7 237.04 92.1 238.5 90.77C240.49 88.95 242.48 88.69 244.46 89.98L255.1 96.91L253.77 98.55C252.52 100.1 250.85 100.19 248.78 98.84L242.53 94.77C242.08 95.2 241.57 95.72 241.01 96.33C240.59 96.81 240.13 97.33 239.64 97.89L247.14 102.78L245.76 104.48C244.64 105.86 243.13 105.93 241.24 104.7L236.58 101.66L236.08 102.28C235.01 103.6 234.57 104.65 234.76 105.44C234.92 106.17 235.7 107 237.1 107.91L238.32 108.7C239.8 109.67 241.53 110.53 243.51 111.28L242.01 113.11ZM269.99 116.17C269.86 116.04 269.69 115.89 269.48 115.73C269.25 115.55 269.04 115.38 268.85 115.23L264.86 118.56C265.21 118.98 265.83 119.62 266.72 120.49C267.3 121.06 267.95 121.39 268.66 121.48C269.45 121.57 270.14 121.37 270.75 120.86C272.2 119.64 272.25 118.37 270.9 117.05L269.99 116.17ZM263.5 135.93C262.61 135.92 261.75 135.52 260.92 134.71C259.55 133.37 259.23 131.95 259.99 130.47L262.01 126.57C262.5 125.62 262.72 124.85 262.67 124.28C262.63 123.9 262.43 123.49 262.08 123.03C261.86 122.74 261.7 122.53 261.61 122.4L261.58 122.37C261.51 122.26 261.44 122.16 261.39 122.07L261.36 121.99L261.3 121.93C261.26 121.86 261.2 121.77 261.1 121.68L253.93 127.67L252.49 126.26C250.74 124.55 250.82 122.9 252.73 121.3L268.03 108.51C268.65 108.78 269.56 109.33 270.77 110.16C271.93 111 272.83 111.72 273.45 112.32L275.26 114.09C276.99 115.78 277.87 117.58 277.88 119.48C277.88 121.36 277.06 122.99 275.41 124.36C274.27 125.31 272.99 125.93 271.56 126.19C270.18 126.46 268.89 126.34 267.71 125.82C267.78 126.79 267.51 127.85 266.91 129C266.08 130.68 265.41 132.03 264.88 133.06C264.64 133.5 264.47 133.92 264.37 134.31C264.32 134.45 264.28 134.59 264.23 134.74L264.19 134.93L264.15 135.12L264.01 135.49L263.5 135.93ZM299.96 148.08C299.31 148.44 298.51 148.54 297.57 148.36C296.55 148.17 295.8 147.71 295.32 147.01L293.33 144.05L276.19 153.62L274.89 151.69C273.68 149.89 274.18 148.37 276.4 147.14L290.22 139.43L286.63 134.09L288.51 133.04C289.21 132.65 289.97 132.53 290.8 132.69C291.77 132.86 292.54 133.36 293.1 134.19L301.76 147.08L299.96 148.08ZM287.36 172.85C287.01 172.08 287 171.31 287.34 170.52C287.72 169.63 288.46 168.97 289.55 168.55L309.49 160.75L310.55 163.04C310.86 163.71 310.87 164.42 310.57 165.17C310.27 165.97 309.7 166.54 308.87 166.86L288.31 174.9L287.36 172.85ZM305.97 201.03C303.44 201.65 301.22 201.41 299.32 200.31C297.38 199.19 296.03 197.29 295.28 194.61C294.65 192.37 294.65 190.51 295.29 189.05C295.86 187.66 296.95 186.77 298.55 186.37L302 185.6C300.45 188.35 299.96 190.76 300.53 192.81C301.21 195.25 302.39 196.27 304.04 195.86C304.72 195.69 305.15 195.31 305.33 194.72C305.57 194.01 305.65 192.63 305.57 190.59C305.42 186.32 307.06 183.77 310.49 182.93C312.72 182.38 314.83 182.66 316.83 183.76C318.94 184.96 320.35 186.83 321.06 189.37C321.74 191.81 321.72 193.75 320.99 195.18C320.39 196.34 319.42 197.09 318.09 197.42L314.53 198.1C316.1 195.84 316.58 193.61 315.97 191.41C315.23 188.77 314.05 187.66 312.41 188.06C311.84 188.2 311.46 188.62 311.28 189.31C311.08 190.06 311.02 191.35 311.1 193.19C311.27 197.55 309.56 200.15 305.97 201.03ZM300.67 219.52C300.58 218.69 300.81 217.94 301.39 217.27C302.04 216.51 302.95 216.07 304.12 215.94L325.58 213.56L325.86 216.05C325.94 216.78 325.72 217.46 325.2 218.11C324.66 218.81 323.94 219.2 323.05 219.3L300.92 221.75L300.67 219.52ZM300.22 252.66C300.33 251.5 300.78 250.51 301.56 249.7C302.68 248.58 304.67 247.45 307.54 246.33C313.96 243.86 317.26 242.59 317.44 242.52L301.31 241.53L301.53 239.26C301.61 238.43 302 237.73 302.7 237.16C303.46 236.52 304.43 236.24 305.61 236.31L327.15 237.63L326.89 240.32C326.61 243.17 324.65 245.29 321 246.66C320.39 246.88 319.64 247.15 318.77 247.47L317.59 247.93L316.41 248.35C314.4 249.09 312.77 249.7 311.51 250.18L325.84 251.06L325.6 253.52C325.53 254.23 325.13 254.86 324.4 255.43C323.67 256.02 322.84 256.29 321.92 256.23L300 254.89L300.22 252.66ZM297.46 288.13C293.17 287.1 291.83 284.07 293.41 279.03C294.38 275.97 296.31 273.66 299.21 272.1C302.23 270.43 305.59 270.04 309.28 270.93C312.97 271.82 315.68 273.62 317.4 276.35C319.2 279.2 319.52 282.46 318.36 286.13C317.73 288.13 316.68 289.57 315.22 290.43C313.93 291.2 312.62 291.42 311.27 291.1L309.09 290.58C311.08 288.69 312.43 286.61 313.15 284.33C313.71 282.55 313.53 280.91 312.61 279.43C311.69 277.95 310.23 276.96 308.23 276.48C305.64 275.86 303.5 275.98 301.81 276.83C300.31 277.63 299.27 278.96 298.68 280.81C298.26 282.15 298.58 282.96 299.66 283.21L301.52 283.66C302.68 283.94 304.05 284.11 305.62 284.17L304.73 286.99C304.51 287.67 304.03 288.23 303.29 288.66C302.55 289.06 301.86 289.19 301.22 289.03L297.46 288.13ZM147.21 81.86C146.09 81.81 145.2 81.51 144.54 80.95C143.93 80.44 143.61 79.84 143.58 79.12L143.5 78.43C143.46 78.2 143.44 77.96 143.43 77.7L143.41 77.4L143.39 77.13C143.36 76.75 143.32 76.4 143.25 76.1L134.56 75.75C133.91 77.7 133.37 79.54 132.94 81.27L130.55 81.17C128.67 81.09 127.8 80.17 127.93 78.4C128.06 76.58 129.25 73.33 131.5 68.66C133.89 63.61 136.04 60.23 137.96 58.51L140.18 58.6C142.14 58.68 143.57 59.51 144.46 61.09C145.5 63.06 146.58 66.08 147.72 70.16C148.91 74.62 149.64 78.55 149.9 81.96L147.21 81.86ZM203.84 309.98C220.77 340.3 226.28 350.45 218.02 399.85C223.37 397.47 219.86 399.73 223.23 396.33C224.15 395.41 224.77 394.25 225.49 393.09C260.02 337.42 231.39 298.85 191.18 251.06C165.32 220.31 136.02 191.16 110.9 160.57C103.29 151.31 96.1 140.75 90.13 129.55C81.35 113.09 84.2 101.06 79.28 90.17C65.4 144.56 71.98 150.14 113.07 199.82C143.43 236.56 179.85 269.71 203.84 309.98ZM244.63 342.56C246.35 340.64 248.16 338.63 250.1 336.51C283.53 299.95 278.08 320.07 275.52 279.55C273.33 244.99 229.44 259.16 214.33 274.05C217.1 277.69 219.73 281.31 222.22 284.92C222.82 285.76 223.42 286.64 224.01 287.56C225.2 289.34 226.35 291.13 227.46 292.91C239.46 284.62 249.26 281.3 267.56 288.32C266.03 291.31 250.21 306.72 245.95 311.3C243.8 313.61 241.77 315.79 239.82 317.92C242.65 325.94 244.35 334.11 244.63 342.56ZM127.99 349.6C136.45 360.13 143.86 371.75 149.7 385.39C156.89 402.18 154.77 408.57 152.83 419.05H163.07C165.91 414.63 169.17 409.81 173.98 406.1L176.94 419.05H184.84C190.64 411.58 198.07 400.48 201.55 396.07C207.97 387.94 212.94 381.42 217.51 375.48C217.84 371.56 218.03 367.66 218.04 363.79C218.05 357.65 217.52 351.75 216.13 345.84C212.4 350.27 208.74 354.63 205.29 359.15C199.33 366.95 193.28 375.23 186.68 382.43C184.6 375.19 186.96 369.14 182.18 363.97C176.92 369.97 172.19 376.41 166.92 382.54C166.76 382.26 166.23 383.2 165.85 383.51C164.07 368.1 154.42 350.94 142.22 334.96C138.1 340.3 133.33 345.2 127.99 349.6ZM109.11 298.77C83.71 274.96 54.15 246.93 35.17 213.96C9.15 168.76 9.15001 116.57 59.82 87.05C76.02 77.61 76.66 85.49 74.11 72.42C47.59 75.29 20.9 102.89 11.61 121.86C-10.83 167.72 2.82 209.27 28.68 246.26C53.75 282.13 83.73 304.04 109.06 328.92C112.14 325.38 114.97 321.58 117.54 317.53C118.91 315.38 120.15 313.12 121.29 310.78C117.15 306.49 113.03 302.46 109.11 298.77ZM119.98 362.83C127.53 362.83 133.64 368.75 133.64 376.05C133.64 383.35 127.52 389.27 119.98 389.27C112.43 389.27 106.32 383.35 106.32 376.05C106.31 368.75 112.43 362.83 119.98 362.83ZM119.98 394.62C127.53 394.62 133.64 400.54 133.64 407.84C133.64 415.14 127.52 421.06 119.98 421.06C112.43 421.06 106.32 415.14 106.32 407.84C106.31 400.54 112.43 394.62 119.98 394.62ZM197.72 365.01C199.57 344.71 200.11 340.24 203.44 329.65C206.92 318.6 203.96 315.21 195.17 302.71C187.95 315.52 186.78 355.16 197.72 365.01ZM142.92 238.9C138.6 268.39 132.31 301 120.85 319.01C89.83 367.75 32.3 366.88 19.35 371.99C25.91 376.42 58.85 372.53 69.17 371C110.31 364.92 143.47 341.46 153.76 303.72C155.84 290.37 157.94 273.4 159.6 257.43C154.11 251.21 148.52 245.05 142.92 238.9ZM194.51 136.39L186.83 113.02C183.12 114.38 178.81 117.38 175.16 121.18C174.95 120.91 174.51 121.42 173.94 122.51C163.66 134.28 152.61 170.29 148.68 196.73L148.48 198.11C153.3 203.38 158.14 208.65 162.96 213.92C165.05 180.12 171.68 159.09 194.51 136.39ZM137.56 249.2C101.64 212.1 59.54 172.39 63.32 136.92C63.36 136.59 63.83 133.06 63.82 132.72C63.66 126.49 63.83 129.83 62.63 127.98C49.03 147.95 52.13 175.67 62.52 195.25C75.62 219.93 106.08 248.89 132.47 276.09C134 269.34 135.3 262.54 136.47 255.77C136.84 253.58 137.2 251.39 137.56 249.2ZM180.36 351.4C183.78 346.05 186.4 321.83 185.28 315.34C183.53 305.2 175.31 292.96 169.91 285.73C167.3 282.23 164.44 278.68 161.4 275.09C160.28 284.58 159.03 294.07 157.57 303.52C166.64 314.43 173.56 324.61 176.6 333.58C178.88 340.32 177.46 348.42 180.36 351.4ZM156.7 149.21C118.71 105.48 76.78 54.8 97.19 16.87C99.24 13.06 101.68 9.77001 104.39 6.96001V0.790009C87.19 12.69 74.66 35.01 78.99 65.18C84.6 104.21 121.55 142.57 141.44 165.65C144.1 168.74 146.72 171.69 149.28 174.52C149.66 172.96 150.05 171.41 150.45 169.86C152.25 162.97 154.3 156.03 156.7 149.21ZM208.36 264.48C218.87 250.01 209.26 218.97 201.68 205.75C195.78 195.46 186.21 183.49 175.13 170.49C171.85 178.41 169.83 186.59 168.53 195.31C186.77 215.14 200.88 232.93 208.36 264.48Z",
];

const styles = StyleSheet.create({
  layer: {
    ...StyleSheet.absoluteFillObject,
    backgroundColor: "white",
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
  },
});

const StrokeAnimation = ({ navigation }) => {
  const progress = useSharedValue(0);
  const opacity = useState(new Animated.Value(0))[0];

  useEffect(() => {
    Animated.timing(opacity, {
      toValue: 1,
      duration: 300,
      easing: Easing.linear(Easing.bezier(1, 0.02, 1, 0.01)),
    }).start();
    progress.value = withTiming(1, {
      duration: 3000,
      easing: Easing.linear(Easing.bezier(1, 0.02, 1, 0.01)),
    });

    setTimeout(function () {
      navigation.replace("homeTabs");
    }, 3500);
  }, [progress]);

  return (
    <View style={styles.layer}>
      {/* <View style={styles.layer}>
        <AnimatedLogo progress={progress} />
      </View> */}

      <Animated.View style={{ opacity: opacity }}>
        <Svg
          width={width / 1.7}
          height={height / 1.7}
          viewBox={[
            -MARGIN / 2,
            -MARGIN / 2,
            vWidth + MARGIN / 2,
            vHeight + MARGIN / 2,
          ].join(" ")}
        >
          {paths.map((d, key) => (
            <AnimatedStroke progress={progress} d={d} key={key} />
          ))}
        </Svg>
      </Animated.View>
    </View>
  );
};

export default StrokeAnimation;
